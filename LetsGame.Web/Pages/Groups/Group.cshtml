@page "/group/{slug}"
@using LetsGame.Web.Services.Igdb.Models
@model LetsGame.Web.Pages.Groups.GroupModel

@{
    Layout = "_AuthenticatedLayout";
}

<div class="d-flex justify-content-between align-items-center">
    <h1 class="display-4">@Model.Group.Name</h1>

    <form method="post" asp-page-handler="delete">
        <button type="submit" class="btn btn-danger">Delete this group</button>
    </form>
</div>

<h2>Games in this group</h2>
<a asp-page="AddGame" asp-route-slug="@Model.Group.Slug" class="btn btn-primary">Add game</a>

<div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 pt-3">
    @foreach (var game in Model.Group.Games)
    {
        <div class="col mb-4">
            <div class="card bg-dark text-white">
                @if (game.IgdbImageId != null)
                {
                    <img src="@Image.GetScreenshotMedUrl(game.IgdbImageId)" class="card-img" alt="Screenshot from @game.Name"/>
                }
                else
                {
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='555' height='312'%3E%3Crect width='100%25' height='100%25' fill='%23868e96'%3E%3C/rect%3E%3C/svg%3E" class="card-img" alt=""/>
                }
                <div class="card-img-overlay bg-overlay-dark">
                    <h5 class="card-title">@game.Name</h5>
                </div>
            </div>
        </div>
    }
</div>